function fixedSidebarInButton(){var i="left",t=$("main");if(window.location.pathname.indexOf("/column/info/")>-1){t=$("#column");var i="left"}window.csdn.fixedSidebar({targetBox:$("aside"),mainBox:t,sidebar:$("aside"),direction:i,position:"fixed",bottom:0,zIndex:99,sidebarRightMargin:8,sidebarLeftMargin:15})}function getCookie(i){for(var t=document.cookie.split("; "),e=0;e<t.length;e++){var n=t[e].split("=");if(i==n[0])return n[1]}return null}$(function(){var i=$("div.box-box-default"),t=$("div.box-box-large");boxAways=$("div.box-box-aways"),i.find("a.btn-remove").click(function(){i.remove()}),t.find("a.btn-remove").click(function(){t.remove()}),boxAways.find("a.btn-remove").click(function(){boxAways.remove()})}),window.addLoadEvent=window.addLoadEvent?window.addLoadEvent:function(i){var t=window.onload;"function"!=typeof window.onload?window.onload=i:window.onload=function(){t(),i()}},$(function(){function i(){}function t(i){$(i).text("点开这里查看关注").fadeIn(),setTimeout(function(){$(i).fadeOut()},3e3)}i.prototype.animation=function(){if(!currentUserName)return!1;var i=$(this).offset(),e=$(".loginCenter").offset().top,n=$(".loginCenter").offset().left+20,s=i.left+80,o=i.top+20,a=$("#pointDivs .point-pre").first().removeClass("point-pre").css({left:s+"px",top:o+"px"}),r=a.find(".point-inner");setTimeout(function(){a[0].style.webkitTransform="translate3d(0,"+(e-o)+"px,0)",r[0].style.webkitTransform="translate3d("+(n-s)+"px,0,0)",setTimeout(function(){a.removeAttr("style").addClass("point-pre"),r.removeAttr("style"),t(".guo_tip_box")},800)},1)},i.prototype.animationInit=function(){for(var i=$('<div id="pointDivs"></div>').appendTo("body"),t=0;t<5;t++)$('<div class="point-outer point-pre"><div class="point-inner"/></div></div>').appendTo(i)},window.CSDNAnimation=i}),$(function(){function i(){return window.devicePixelRatio>1}$(document).on("mouseenter",".badge .icon-badge",function(i){var t=$(this).find(".grade-detail-box"),e=104;t.css({top:$(this).position().top-e-(t.outerHeight()-e)})}),function(){if(i()){var t=$(".user-years");t.length>0&&(t=t.attr("src").split("/")[$(".user-years").attr("src").split("/").length-1],$(".user-years").attr("src","https://g.csdnimg.cn/static/user-reg-year/2x/"+t))}}()}),$(document).ready(function(){var i="https://im.csdn.net/im/main.html?userName="+username;$("#profile-personal-alink").attr("href",i)}),(isCorporate||"undefined"==typeof articleId||$(window).width()>0)&&$(document).ready(fixedSidebarInButton),window.leftFixedSide?window.leftFixedSide:window.leftFixedSide={},window.leftFixedSide.fixedSidebarInButton=fixedSidebarInButton,$(function(){function i(){var i=document.cookie.match(new RegExp("(^| )UserName=([^;]*)(;|$)"));return i?i[2]:""}function t(i){$("#fan").text().indexOf("+")<0?$("#fan").text(parseInt($("#fan").text())+i):$("#fanBox").attr("title",parseInt($("#fanBox").attr("title"))+i);var t=$(".fans_read_more");t.length>0&&t.trigger("click")}function e(i){var t=i.hasClass("attented");t?s(i):n(i)}function n(i){var e="https://me.csdn.net/api/relation/create?source=blog";$.ajax({type:"POST",url:e,contentType:"application/json; charset=utf-8",data:JSON.stringify({username:username}),xhrFields:{withCredentials:!0},success:function(e){e="object"!=typeof e?JSON.parse(e):e,200===e.code&&(i.addClass("attented").text("已关注").removeClass("btn-red-hollow").addClass("btn-gray-hollow attented"),t(1))},error:function(i){i="object"!=typeof i.responseText?JSON.parse(i.responseText):i.responseText,400102==i.code?window.csdn.loginBox.show():alert(i.message)}})}function s(i){var e="https://me.csdn.net/api/relation/destroy?source=blog";$.ajax({type:"POST",url:e,contentType:"application/json; charset=utf-8",data:JSON.stringify({username:username}),xhrFields:{withCredentials:!0},success:function(e){200==e.code?(i.text("关注").addClass("btn-red-hollow").removeClass("btn-gray-hollow attented"),t(-1)):console.error(e.msg)}})}var o=new window.CSDNAnimation;o.animationInit(),$("#btnAttent").click(function(i){e($(this))}),i()}),function(){function i(i){var t=document.createElement("div");void 0!=t.textContent?t.textContent=i:t.innerText=i;var e=t.innerHTML;return t=null,e}function t(i){var t="";return 0==i.length?"":(t=i.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"))}window.csdn?window.csdn:window.csdn={},window.csdn.htmlEncode_inner=i,window.csdn.htmlEncode_Escape=t}(),$(function(){var i=document.createElement("script");i.src="https://g.csdnimg.cn/side-toolbar/1.6/side-toolbar.js",document.body.appendChild(i)}),function(i,t){function e(i,e,n,s){t.post(i,e,n,s)}window.csdn?window.csdn:window.csdn={},window.csdn.post=e}(window,jQuery),$(function(){function i(i,t,e){$.ajax({url:i,type:"POST",data:t,xhrFields:{withCredentials:!0},success:function(i){if(n.skinBoxshadow.html(""),i.status){var t='<div class="skin-success skin-tip skin-massage">          <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>          <span>'+i.error+"</span>          </div>";n.skinBoxshadow.append(t),n.skinBoxshadow.fadeIn(200),setTimeout(function(){n.skinBoxshadow.fadeOut(200),n.skinTipbox.slideUp(200),""!==e&&(window.location.href=e.window_url)},1e3)}else if(2===i.data.type){var s='<div class="skin-vip skin-adopt skin-massage">            <p class="skin-title">            <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>            <span>你还不是VIP会员</span></p>            <p class="skin-text">本皮肤为VIP用户可用哦，请您开通VIP会员后再试！</p>            <a href="https://mall.csdn.net/vip?utm_source=skinTemplateVip" class="adopt-vip" target="_blank">                <img class="isvip" src="'+blogUrl+'static_files/static_blog/images/crown.png" >                <span>开通VIP会员</span>            </a>            <div class="skin-bt-close"><svg t="1567152543821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" width="200" height="200"><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="10925"></path></svg></div>          </div>';n.skinBoxshadow.append(s),n.skinBoxshadow.fadeIn(200),$(".skin-bt-close").on("click",function(){n.skinBoxshadow.fadeOut(200)})}else if(3===i.data.type){var o='<div class="grade-vip skin-adopt skin-massage">            <p class="skin-title">            <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>            <span>'+i.error+'</span>            <p class="skin-text">开通VIP会员，即可专享所有皮肤哦～！</p>            <a href="https://mall.csdn.net/vip?utm_source=skinTemplateVip" class="adopt-vip" target="_blank">                <img class="isvip" src="'+blogUrl+'static_files/static_blog/images/crown.png" >                <span>开通VIP会员</span>            </a>            <div class="skin-bt-close"><svg t="1567152543821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" width="200" height="200"><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="10925"></path></svg></div>          </div>';n.skinBoxshadow.append(o),n.skinBoxshadow.fadeIn(200),$(".skin-bt-close").on("click",function(){n.skinBoxshadow.fadeOut(200)})}else{var a='<div class="skin-error skin-tip skin-massage">            <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>            <span>'+i.error+"</span>            </div>";n.skinBoxshadow.append(a),n.skinBoxshadow.fadeIn(200),setTimeout(function(){n.skinBoxshadow.fadeOut(200)},1e3)}},error:function(i){n.skinBoxshadow.html("");var t='<div class="skin-error skin-tip skin-massage">        <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>        <span>保存失败！请重新保存</span>        </div>';n.skinBoxshadow.append(t),n.skinBoxshadow.fadeIn(200),setTimeout(function(){n.skinBoxshadow.fadeOut(200)},1e3)}})}function t(){var i,t,e=window.location.href;return e.indexOf("?assign_skin_id")!=-1?(t=e.split("?")[0],i=e.split("?")[1].split("=")[1]):t=e,i=parseInt(i)?parseInt(i):"",{window_url:t,skin_id:i}}function e(){function i(){d={img_title:n.userSkin.find("#uploadHeaderimg").attr("value"),img_back:n.userSkin.find("#uploadBgimg").attr("value"),img_column:n.userSkin.find("#uploadColumnimg").attr("value"),color_title:n.userSkin.find("#topicColor").val(),color_title_hover:n.userSkin.find("#topicHoverColor").val(),color_sub_title:n.userSkin.find("#subTopicColor").val()};var i="^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$",t=new RegExp(i);return""===d.img_title?(o("头图必传",!1),!1):!(""!==d.color_title&&!t.test(d.color_title))||(o("请填写正确的颜色值",!1),!1)}function e(){n.userSkin.find("input").val(""),$("#uploadHeaderimg").value="",$("#uploadBgimg").value="",$("#uploadColumnimg").value="",n.userSkin.find(".upload-icon").show(),n.userSkin.find(".success-upload-icon").hide(),n.userSkin.find(".tip-massage").html("点击选择上传的图片"),n.userSkin.fadeOut(200)}function s(i,t,e){var s=blogUrl+"pheapi/skin/"+i;$.ajax({url:s,type:"POST",data:t,xhrFields:{withCredentials:!0},success:function(t){setTimeout(function(){if(!t.status)if(1===t.data.type)o(t.error,!0);else{var s='<div class="skin-vip skin-adopt skin-massage">                        <p class="skin-title">                        <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>                        <span>你还不是VIP会员</span></p>                        <p class="skin-text">本功能为VIP用户可用哦，请您开通VIP会员后再试！</p>                        <a href="https://mall.csdn.net/vip?utm_source=skinTemplateVip" class="adopt-vip" target="_blank">                            <img class="isvip" src="'+blogUrl+'static_files/static_blog/images/crown.png" >                            <span>开通VIP会员</span>                        </a>                        <div class="skin-bt-close"><svg t="1567152543821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" width="200" height="200"><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="10925"></path></svg></div>                      </div>';n.skinBoxshadow.append(s),n.skinBoxshadow.fadeIn(200),$(".skin-bt-close").on("click",function(){n.skinBoxshadow.fadeOut(200),n.skinBoxshadow.html("")})}"previewSkin"===i?!!e&&e(t.status,t.data?t.data:"操作成功"):!!e&&e(t.status,t.error?t.error:"操作成功")},2e3)},error:function(i){o("系统错误，请重新上传",!1)}})}function o(i,t){n.skinBoxshadow.html("");var e="";e=t?'<div class="skin-success skin-tip skin-massage">        <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>        <span>'+i+"</span>        </div>":'<div class="skin-error skin-tip skin-massage">        <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>        <span>'+i+"</span>        </div>",n.skinBoxshadow.append(e),n.skinBoxshadow.fadeIn(200),setTimeout(function(){n.skinBoxshadow.fadeOut(200)},1e3)}function a(i){var t=null;return void 0!=window.createObjectURL?t=window.createObjectURL(i):void 0!=window.URL?t=window.URL.createObjectURL(i):void 0!=window.webkitURL&&(t=window.webkitURL.createObjectURL(i)),t}function r(i){n.cropBox.find("#cropImg").cropper({aspectRatio:i,viewMode:2,dragMode:"crop",preview:".small",responsive:!0,restore:!1,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:1,movable:!0,scalable:!1,zoomable:!0,rotatable:!1,preview:document.querySelectorAll(".final-img")})}$(".customize").click(function(){n.userSkin.fadeIn(200)});var d={img_title:"",img_back:"",img_column:"",color_title:"",color_title_hover:"",color_sub_title:""};n.userSkin.find(".bt-back").click(function(){e()}),n.userSkin.find(".user-skin-refer").click(function(){if(i()){var e=function(i,e){i&&(o(e,!0),setTimeout(function(){var i=t();window.location.href=i.window_url},200))};s("saveSkinCustomer",d,e)}}),n.userSkin.find(".user-skin-preview").click(function(){if(i()){var t=function(i,t){i&&window.open(t)};s("previewSkin",d,t)}});var c;n.uploadSkinImg.change(function(i){var t=$(this)[0].files[0],e=t.type,s=t.size/1024;if(!/.(jpg|jpeg|png)$/.test(e))return o("请上传jpg、png格式图片",!1),!1;var d=a(t);switch(n.cropBox.find(".crop-img-before img").attr("src",d),c=$(this)[0].id,n.cropBox.find("#cropImg").cropper("destroy"),c){case"uploadHeaderimg":if(r(19.2),2048<s)return void o("请选择2M以内的图片",!1);n.cropBox.find("#cropImg").cropper("setCropBoxData",{width:1920,height:100});break;case"uploadBgimg":if(1024<s)return void o("请选择1M以内的图片",!1);r(1),n.cropBox.find("#cropImg").cropper("setCropBoxData",{width:100,height:100});break;case"uploadColumnimg":if(512<s)return void o("请选择0.5M以内的图片",!1);r(300/38),n.cropBox.find("#cropImg").cropper("setCropBoxData",{width:300,height:38})}n.cropBox.fadeIn(200),$(this)[0].value=""}),n.cropBox.find(".bt-back").click(function(){n.cropBox.fadeOut(200),n.cropBox.find("#cropImg").cropper("destroy")}),n.cropBox.find(".bt-next").click(function(){var i="",t="",e="";switch(c){case"uploadHeaderimg":i=1920,t=100,e="img_title";break;case"uploadBgimg":i=100,t=100,e="img_back";break;case"uploadColumnimg":i=300,t=38,e="img_column"}n.cropBox.find("#cropImg").cropper("getCroppedCanvas",{width:i,height:t,minWidth:i,minHeight:t,maxWidth:i,maxHeight:t}).toBlob(function(i){var t=new FormData;t.append("file",i),t.append("img_type",e),$.ajax("/pheapi/skin/skin_upload_img",{method:"POST",data:t,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},success:function(i){if(i.result){var t=$("#"+c);switch(t.attr("value",i.url),c){case"upload-headerimg":d.img_title=t.val();break;case"upload-bgimg":d.img_back=t.val();break;case"upload-columnimg":d.img_column=t.val()}t.siblings(".upload-img").find(".upload-icon").hide(),t.siblings(".upload-img").find(".success-upload-icon").show(),t.siblings(".upload-img").find(".tip-massage").html("点击重新上传"),o("上传成功",!0),setTimeout(function(){n.cropBox.fadeOut(200)},1e3)}else o(i.content,!1),setTimeout(function(){n.cropBox.fadeOut(200)},1e3)},error:function(i){o("系统错误，请重新上传",!1),setTimeout(function(){n.cropBox.fadeOut(200)},1e3)}})},"image/png")}),n.cropBox.find(".bt-reduce").click(function(){n.cropBox.find("#cropImg").cropper("zoom",-.1)}),n.cropBox.find(".bt-add").click(function(){n.cropBox.find("#cropImg").cropper("zoom",.1)})}var n={skikTemplateBox:$(".skin-template-box"),skinTemplateItem:$(".skin-template-item"),skinList:$(".skin-list"),skinListShow:$(".skin-list-show"),skinItem:$(".skin-item"),skinTipbox:$("#skinTipbox"),skinChange:$("#skinChange"),meUser:$("#meUser"),skinBoxshadow:$(".skin-boxshadow"),userSkin:$("#userSkin"),cropBox:$("#cropBox"),uploadSkinImg:$(".upload-skin-img")};n.skinChange.on("click",function(){n.skikTemplateBox.fadeIn(200)}),$(document).mouseup(function(i){var t=n.skikTemplateBox;t.is(i.target)||0!==t.has(i.target).length||n.skikTemplateBox.fadeOut(200)}),n.skinTemplateItem.on("click",function(){var i=$(this).index();i<2?(n.skinTemplateItem.removeClass("skin-template-item-act"),$(this).addClass("skin-template-item-act"),n.skinList.hide(),n.skinList.eq(i).show()):(n.skikTemplateBox.fadeOut(200),n.userSkin.fadeIn(200))}),n.skinItem.on("click",function(){n.skinListShow.find("li").removeClass("skin-item-act"),$(this).addClass("skin-item-act"),n.skikTemplateBox.fadeOut(200)}),n.skinTipbox.on("click",".skin-exit",function(){n.skinTipbox.slideUp(200);var i=t();setTimeout(function(){window.location.href=i.window_url},200)}),n.skinTipbox.on("click",".skin-save",function(){var e=t(),n=blogUrl+"pheapi/skin/useSkin",s={skin_id:e.skin_id};i(n,s,e)}),e()}),$(function(){$("#csdnc-memberhead").fadeIn(500)});